<Window x:Class="Photobooth.Controls.InputDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:behaviors="clr-namespace:Photobooth.Behaviors"
        Title="Input Required" 
        MinHeight="220" MaxHeight="300" Width="400"
        SizeToContent="Height"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        Background="Transparent"
        AllowsTransparency="True"
        ResizeMode="NoResize">
    
    <Border Background="White" 
            CornerRadius="12" 
            BorderThickness="0"
            Margin="8">
        
        <Border.Effect>
            <DropShadowEffect Color="#000000" BlurRadius="25" ShadowDepth="5" Opacity="0.2"/>
        </Border.Effect>
        
        <Grid Margin="24">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <!-- Header -->
            <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,20">
                <Border Width="40" Height="40" 
                        Background="#EFF6FF" 
                        CornerRadius="20" 
                        Margin="0,0,16,0">
                    <TextBlock Text="✏" 
                              FontSize="20" 
                              HorizontalAlignment="Center" 
                              VerticalAlignment="Center"
                              Foreground="#3B82F6"/>
                </Border>
                <StackPanel VerticalAlignment="Center">
                    <TextBlock x:Name="TitleText" 
                              Text="Input Required" 
                              FontSize="18" 
                              FontWeight="SemiBold" 
                              Foreground="#111827"/>
                </StackPanel>
            </StackPanel>
            
            <!-- Content -->
            <StackPanel Grid.Row="1" Margin="0,0,0,24">
                <TextBlock x:Name="MessageText" 
                          Text="Please enter a value:" 
                          FontSize="14" 
                          TextWrapping="Wrap" 
                          Foreground="#6B7280" 
                          LineHeight="20"
                          Margin="0,0,0,12"/>
                
                <TextBox x:Name="InputTextBox"
                         FontSize="14"
                         Padding="12,10"
                         BorderBrush="#CBD5E1"
                         BorderThickness="1"
                         Background="White"
                         Foreground="#374151"
                         VerticalContentAlignment="Center"
                         KeyDown="InputTextBox_KeyDown"
                         behaviors:VirtualKeyboardBehavior.EnableVirtualKeyboard="True">
                    <TextBox.Style>
                        <Style TargetType="TextBox">
                            <Setter Property="Template">
                                <Setter.Value>
                                    <ControlTemplate TargetType="TextBox">
                                        <Border Background="{TemplateBinding Background}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                CornerRadius="6"
                                                x:Name="Border">
                                            <ScrollViewer x:Name="PART_ContentHost"
                                                         Margin="{TemplateBinding Padding}"
                                                         VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                                        </Border>
                                        <ControlTemplate.Triggers>
                                            <Trigger Property="IsFocused" Value="True">
                                                <Setter TargetName="Border" Property="BorderBrush" Value="#3B82F6"/>
                                            </Trigger>
                                            <Trigger Property="IsMouseOver" Value="True">
                                                <Setter TargetName="Border" Property="BorderBrush" Value="#94A3B8"/>
                                            </Trigger>
                                        </ControlTemplate.Triggers>
                                    </ControlTemplate>
                                </Setter.Value>
                            </Setter>
                        </Style>
                    </TextBox.Style>
                </TextBox>
            </StackPanel>
            
            <!-- Buttons -->
            <StackPanel Grid.Row="2" 
                       Orientation="Horizontal" 
                       HorizontalAlignment="Right">
                
                <!-- Cancel Button -->
                <Button x:Name="CancelButton" 
                       Content="Cancel" 
                       Width="80" 
                       Height="36" 
                       Margin="0,0,12,0" 
                       Background="Transparent" 
                       BorderBrush="#D1D5DB" 
                       BorderThickness="1" 
                       Foreground="#374151" 
                       FontSize="13" 
                       FontWeight="Medium"
                       Cursor="Hand"
                       Click="CancelButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                   BorderBrush="{TemplateBinding BorderBrush}" 
                                   BorderThickness="{TemplateBinding BorderThickness}" 
                                   CornerRadius="6"
                                   x:Name="ButtonBorder">
                                <ContentPresenter HorizontalAlignment="Center" 
                                                VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#F9FAFB"/>
                                    <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#9CA3AF"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#F3F4F6"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                
                <!-- OK Button -->
                <Button x:Name="OkButton" 
                       Content="OK" 
                       Width="80" 
                       Height="36" 
                       Background="#3B82F6" 
                       BorderThickness="0" 
                       Foreground="White" 
                       FontSize="13" 
                       FontWeight="Medium"
                       Cursor="Hand"
                       Click="OkButton_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" 
                                   CornerRadius="6"
                                   x:Name="ButtonBorder">
                                <ContentPresenter HorizontalAlignment="Center" 
                                                VerticalAlignment="Center"/>
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsMouseOver" Value="True">
                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#2563EB"/>
                                </Trigger>
                                <Trigger Property="IsPressed" Value="True">
                                    <Setter TargetName="ButtonBorder" Property="Background" Value="#1D4ED8"/>
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
                
            </StackPanel>
            
        </Grid>
    </Border>
</Window> 