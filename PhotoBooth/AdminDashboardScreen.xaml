<UserControl x:Class="Photobooth.AdminDashboardScreen"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:local="clr-namespace:Photobooth.Views"
             xmlns:behaviors="clr-namespace:Photobooth.Behaviors"
             mc:Ignorable="d"
             d:DesignHeight="5080" d:DesignWidth="1920">

    <UserControl.Resources>
        <!-- Modern Card Style -->
        <Style x:Key="ModernCardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="24"/>
            <Setter Property="Margin" Value="12"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E2E8F0"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="Black" Direction="270" ShadowDepth="4" BlurRadius="16" Opacity="0.1"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Tab Button Style -->
        <Style x:Key="TabButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#64748B"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Height" Value="48"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="0"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#F1F5F9"/>
                            </Trigger>
                            <Trigger Property="Tag" Value="Active">
                                <Setter Property="Background" Value="#F1F5F9"/>
                                <Setter Property="Foreground" Value="#1E293B"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Sales Card Style -->
        <Style x:Key="SalesCardStyle" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="8"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#E2E8F0"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect Color="Black" Direction="270" ShadowDepth="4" BlurRadius="16" Opacity="0.15"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Status Indicator Style -->
        <Style x:Key="StatusIndicatorStyle" TargetType="Border">
            <Setter Property="Background" Value="#EBF8FF"/>
            <Setter Property="BorderBrush" Value="#93C5FD"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="12,6"/>
            <Setter Property="Margin" Value="4,0"/>
        </Style>

        <!-- Modern Button Style -->
        <Style x:Key="ModernButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#2563EB"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Padding" Value="16,12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                            VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1D4ED8"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#60A5FA"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#9CA3AF"/>
                                <Setter Property="Foreground" Value="#E5E7EB"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Progress Bar Style -->
        <Style x:Key="ModernProgressBarStyle" TargetType="ProgressBar">
            <Setter Property="Background" Value="#E2E8F0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Height" Value="8"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ProgressBar">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4">
                            <Grid>
                                <Border x:Name="PART_Track" Background="{TemplateBinding Background}" CornerRadius="4"/>
                                <Border x:Name="PART_Indicator" Background="#10B981" CornerRadius="4" HorizontalAlignment="Left"/>
                            </Grid>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Rounded TextBox Style -->
        <Style x:Key="RoundedTextBoxStyle" TargetType="TextBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#CBD5E1"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,0"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modern Toggle Switch Style -->
        <Style x:Key="ModernToggleSwitchStyle" TargetType="ToggleButton">
            <Setter Property="Width" Value="48"/>
            <Setter Property="Height" Value="24"/>
            <Setter Property="Background" Value="#E5E7EB"/>
            <Setter Property="BorderBrush" Value="#D1D5DB"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Grid>
                            <Border x:Name="SwitchTrack"
                                    Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="12"/>
                            <Ellipse x:Name="SwitchThumb"
                                     Width="20" Height="20"
                                     Fill="White"
                                     Margin="2,2,0,2"
                                     HorizontalAlignment="Left"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="SwitchTrack" Property="Background" Value="#2563EB"/>
                                <Setter TargetName="SwitchThumb" Property="HorizontalAlignment" Value="Right"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <!-- Main Container -->
    <Grid>
        <!-- Gradient Background -->
        <Grid.Background>
            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                <GradientStop Color="#F8FAFC" Offset="0"/>
                <GradientStop Color="#EBF4FF" Offset="1"/>
            </LinearGradientBrush>
        </Grid.Background>

        <!-- Floating Background Elements -->
        <Canvas IsHitTestVisible="False">
            <!-- Top Left Corner -->
            <Ellipse Width="160" Height="160" Canvas.Left="-80" Canvas.Top="-80" Opacity="0.05">
                <Ellipse.Fill>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#60A5FA" Offset="0"/>
                        <GradientStop Color="#A78BFA" Offset="1"/>
                    </LinearGradientBrush>
                </Ellipse.Fill>
            </Ellipse>

            <Ellipse Width="96" Height="96" Canvas.Right="64" Canvas.Top="128" Opacity="0.08">
                <Ellipse.Fill>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#A78BFA" Offset="0"/>
                        <GradientStop Color="#F472B6" Offset="1"/>
                    </LinearGradientBrush>
                </Ellipse.Fill>
            </Ellipse>

            <Ellipse Width="192" Height="192" Canvas.Left="-96" Canvas.Bottom="-96" Opacity="0.04">
                <Ellipse.Fill>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#22D3EE" Offset="0"/>
                        <GradientStop Color="#60A5FA" Offset="1"/>
                    </LinearGradientBrush>
                </Ellipse.Fill>
            </Ellipse>

            <Ellipse Width="144" Height="144" Canvas.Right="-72" Canvas.Bottom="-72" Opacity="0.06">
                <Ellipse.Fill>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#FB923C" Offset="0"/>
                        <GradientStop Color="#FBBF24" Offset="1"/>
                    </LinearGradientBrush>
                </Ellipse.Fill>
            </Ellipse>
        </Canvas>

        <!-- Header Section -->
        <Border VerticalAlignment="Top" Height="Auto" Padding="24" Margin="0,16,0,0">
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                    <GradientStop Color="#F1F5F9" Offset="0"/>
                    <GradientStop Color="#EBF4FF" Offset="1"/>
                </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
                <DropShadowEffect Color="Black" Direction="270" ShadowDepth="1" BlurRadius="8" Opacity="0.05"/>
            </Border.Effect>

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Top Header Row -->
                <Grid Grid.Row="0" Margin="0,0,0,16">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                        <TextBlock Text="Photobooth Admin" FontSize="24" FontWeight="Bold" Foreground="#475569" Margin="0,0,16,0"/>
                        <Border Name="AccessLevelBadge" Background="#D1FAE5" BorderBrush="#10B981" BorderThickness="1" CornerRadius="16" Padding="12,4">
                            <TextBlock Name="AccessLevelText" Text="Master Access" FontSize="14" FontWeight="Medium" Foreground="#065F46"/>
                        </Border>
                    </StackPanel>

                    <Button Name="ExitAdminButton" HorizontalAlignment="Right" VerticalAlignment="Center" 
                            Background="White" BorderBrush="#E2E8F0" BorderThickness="1" 
                            Foreground="#475569" Padding="16,8" FontSize="14" FontWeight="Medium"
                            Cursor="Hand" Click="ExitAdminButton_Click">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" 
                                        BorderBrush="{TemplateBinding BorderBrush}"
                                        BorderThickness="{TemplateBinding BorderThickness}"
                                        CornerRadius="6" 
                                        Padding="{TemplateBinding Padding}">
                                    <StackPanel Orientation="Horizontal">
                                        <TextBlock Text="🏠" FontSize="16" Margin="0,0,8,0"/>
                                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                    </StackPanel>
                                </Border>
                                <ControlTemplate.Triggers>
                                    <Trigger Property="IsMouseOver" Value="True">
                                        <Setter Property="Background" Value="#F8FAFC"/>
                                    </Trigger>
                                </ControlTemplate.Triggers>
                            </ControlTemplate>
                        </Button.Template>
                        Exit Admin
                    </Button>
                </Grid>

                <!-- Hardware Status Bar -->
                <Grid Grid.Row="1" Margin="0,0,0,16">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Left Side - Hardware Status -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                        <!-- Camera Status -->
                        <Border Style="{StaticResource StatusIndicatorStyle}">
                            <StackPanel Orientation="Horizontal">
                                <Ellipse Name="CameraStatusDot" Width="8" Height="8" Fill="#10B981" Margin="0,0,8,0"/>
                                <TextBlock Text="Camera" FontSize="12" Foreground="#475569"/>
                            </StackPanel>
                        </Border>

                        <Rectangle Width="1" Height="16" Fill="#CBD5E1" Margin="8,0"/>

                        <!-- Printer Status -->
                        <Border Style="{StaticResource StatusIndicatorStyle}">
                            <StackPanel Orientation="Horizontal">
                                <Ellipse Name="PrinterStatusDot" Width="8" Height="8" Fill="#EF4444" Margin="0,0,8,0"/>
                                <TextBlock Text="Printer" FontSize="12" Foreground="#475569"/>
                            </StackPanel>
                        </Border>

                        <Rectangle Width="1" Height="16" Fill="#CBD5E1" Margin="8,0"/>

                        <!-- Arduino Status -->
                        <Border Style="{StaticResource StatusIndicatorStyle}">
                            <StackPanel Orientation="Horizontal">
                                <Ellipse Name="ArduinoStatusDot" Width="8" Height="8" Fill="#10B981" Margin="0,0,8,0"/>
                                <TextBlock Text="Arduino" FontSize="12" Foreground="#475569"/>
                            </StackPanel>
                        </Border>

                        <Rectangle Width="1" Height="16" Fill="#CBD5E1" Margin="8,0"/>


                        <!-- Current Mode -->
                        <Border Margin="0,0,0,0" BorderBrush="#93C5FD" BorderThickness="0" Padding="2,6,0,6" 
                                >
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Current Mode:" FontSize="12" Foreground="#64748B" Margin="0,0,8,0"/>
                                <TextBlock Name="CurrentModeText" Text="Coin Operated" FontSize="12" FontWeight="Medium" Foreground="#475569"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>

                    <!-- Right Side - Error & Prints -->
                    <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                        <!-- Error Code -->
                        <Border Name="ErrorCodeBorder" Background="#FEF3C7" BorderBrush="#F59E0B" BorderThickness="1" 
                                CornerRadius="8" Padding="12,6" Margin="0,0,16,0" Visibility="Visible">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="⚠️" FontSize="14" Margin="0,0,8,0"/>
                                <TextBlock Name="ErrorCodeText" Text="Error 01: Printer Not Found" FontSize="12" FontWeight="Medium" Foreground="#92400E"/>
                            </StackPanel>
                        </Border>

                        <!-- Prints Remaining -->
                        <Border Background="#F8FAFC" BorderBrush="#E2E8F0" BorderThickness="1" CornerRadius="8" Padding="12,6">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Prints Remaining:" FontSize="12" Foreground="#64748B" Margin="0,0,12,0"/>
                                <Border Width="120" Height="10" Background="#E2E8F0" CornerRadius="8" Margin="0,0,12,0">
                                    <Border Name="PrintsProgressIndicator" Background="#10B981" CornerRadius="5" 
                                            HorizontalAlignment="Left" Width="112"/>
                                </Border>
                                <TextBlock Name="PrintsRemainingText" Text="650" FontSize="12" FontWeight="Medium" Foreground="#475569"/>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Grid>

                <!-- Breadcrumbs -->
                <StackPanel Grid.Row="2" Orientation="Horizontal">
                    <TextBlock Text="Admin" FontSize="14" Foreground="#94A3B8" Margin="0,0,4,0"/>
                    <TextBlock Text=">" FontSize="12" Foreground="#CBD5E1" Margin="0,0,4,0"/>
                    <TextBlock Name="BreadcrumbText" Text="Sales" FontSize="14" FontWeight="Medium" Foreground="#475569"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <Grid Margin="0,220,0,0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Tab Navigation -->
            <Border Grid.Row="0" Background="#F1F5F9" Margin="24,0,24,24" CornerRadius="12" Padding="0,0,0,0">
                <Grid Height="48">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Button Name="SalesTab" Grid.Column="0" Style="{StaticResource TabButtonStyle}" Tag="Active" Click="TabButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="📊" FontSize="16" Margin="0,0,8,0"/>
                            <TextBlock Text="Sales" FontSize="14" FontWeight="Medium"/>
                        </StackPanel>
                    </Button>

                    <Button Name="SettingsTab" Grid.Column="1" Style="{StaticResource TabButtonStyle}" Click="TabButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="⚙️" FontSize="16" Margin="0,0,8,0"/>
                            <TextBlock Text="Settings" FontSize="14" FontWeight="Medium"/>
                        </StackPanel>
                    </Button>

                    <Button Name="ProductsTab" Grid.Column="2" Style="{StaticResource TabButtonStyle}" Click="TabButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="📦" FontSize="16" Margin="0,0,8,0"/>
                            <TextBlock Text="Products" FontSize="14" FontWeight="Medium"/>
                        </StackPanel>
                    </Button>

                    <Button Name="TemplatesTab" Grid.Column="3" Style="{StaticResource TabButtonStyle}" Click="TabButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="📅" FontSize="16" Margin="0,0,8,0"/>
                            <TextBlock Text="Templates" FontSize="14" FontWeight="Medium"/>
                        </StackPanel>
                    </Button>

                    <Button Name="DiagnosticsTab" Grid.Column="4" Style="{StaticResource TabButtonStyle}" Click="TabButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="🔧" FontSize="16" Margin="0,0,8,0"/>
                            <TextBlock Text="Diagnostics" FontSize="14" FontWeight="Medium"/>
                        </StackPanel>
                    </Button>

                    <Button Name="SystemTab" Grid.Column="5" Style="{StaticResource TabButtonStyle}" Click="TabButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="💻" FontSize="16" Margin="0,0,8,0"/>
                            <TextBlock Text="System" FontSize="14" FontWeight="Medium"/>
                        </StackPanel>
                    </Button>

                    <Button Name="CreditsTab" Grid.Column="6" Style="{StaticResource TabButtonStyle}" Click="TabButton_Click">
                        <StackPanel Orientation="Horizontal">
                            <TextBlock Text="💰" FontSize="16" Margin="0,0,8,0"/>
                            <TextBlock Text="Credits" FontSize="14" FontWeight="Medium"/>
                        </StackPanel>
                    </Button>
                </Grid>
            </Border>

            <!-- Tab Content -->
            <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="24,0,24,24">
                <Grid>
                    <!-- Sales Tab Content -->
                    <Grid Name="SalesTabContent"  Visibility="Collapsed">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Analytics Section Header -->
                        <Grid Grid.Row="0" Margin="12,0,12,24">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- Header Row with Title and Export Button -->
                            <Grid Grid.Row="0" Margin="0,0,0,8">
                                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                    <TextBlock Text="Analytics" FontSize="28" FontWeight="Bold" Foreground="#1E293B"/>
                                </StackPanel>

                                <Button Name="ExportButton" HorizontalAlignment="Right" VerticalAlignment="Center" 
                                        Background="White" BorderBrush="#E2E8F0" BorderThickness="1" 
                                        Foreground="#475569" Padding="12,6" FontSize="14" FontWeight="Medium"
                                        Cursor="Hand" Click="ExportButton_Click">
                                    <Button.Template>
                                        <ControlTemplate TargetType="Button">
                                            <Border Background="{TemplateBinding Background}" 
                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                    CornerRadius="6" 
                                                    Padding="{TemplateBinding Padding}">
                                                <StackPanel Orientation="Horizontal">
                                                    <TextBlock Text="⬇️" FontSize="14" Margin="0,0,6,0"/>
                                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                </StackPanel>
                                            </Border>
                                            <ControlTemplate.Triggers>
                                                <Trigger Property="IsMouseOver" Value="True">
                                                    <Setter Property="Background" Value="#F8FAFC"/>
                                                </Trigger>
                                            </ControlTemplate.Triggers>
                                        </ControlTemplate>
                                    </Button.Template>
                                    Export
                                </Button>
                            </Grid>

                            <!-- Description Row -->
                            <TextBlock Grid.Row="1" Text="Track your photobooth performance and revenue" FontSize="16" Foreground="#64748B"/>
                        </Grid>

                        <!-- Sales Cards -->
                        <UniformGrid Grid.Row="1" Columns="4" Margin="0,0,0,24">
                            <!-- Today -->
                            <Border Style="{StaticResource SalesCardStyle}">
                                <StackPanel>
                                    <TextBlock Text="Today" FontSize="14" Foreground="#059669" FontWeight="Medium" Margin="0,0,0,4"/>
                                    <TextBlock Name="TodaySales" Text="$127.50" FontSize="32" FontWeight="Bold" Foreground="#065F46" Margin="0,0,0,4"/>
                                    <TextBlock Text="+12% from yesterday" FontSize="12" Foreground="#059669" FontWeight="Medium"/>
                                </StackPanel>
                            </Border>

                            <!-- This Week -->
                            <Border Style="{StaticResource SalesCardStyle}">
                                <StackPanel>
                                    <TextBlock Text="This Week" FontSize="14" Foreground="#059669" FontWeight="Medium" Margin="0,0,0,4"/>
                                    <TextBlock Name="WeekSales" Text="$892.25" FontSize="32" FontWeight="Bold" Foreground="#065F46" Margin="0,0,0,4"/>
                                    <TextBlock Text="+8% from last week" FontSize="12" Foreground="#059669" FontWeight="Medium"/>
                                </StackPanel>
                            </Border>

                            <!-- This Month -->
                            <Border Style="{StaticResource SalesCardStyle}">
                                <StackPanel>
                                    <TextBlock Text="This Month" FontSize="14" Foreground="#059669" FontWeight="Medium" Margin="0,0,0,4"/>
                                    <TextBlock Name="MonthSales" Text="$3456.75" FontSize="32" FontWeight="Bold" Foreground="#065F46" Margin="0,0,0,4"/>
                                    <TextBlock Text="+15% from last month" FontSize="12" Foreground="#059669" FontWeight="Medium"/>
                                </StackPanel>
                            </Border>

                            <!-- This Year -->
                            <Border Style="{StaticResource SalesCardStyle}">
                                <StackPanel>
                                    <TextBlock Text="This Year" FontSize="14" Foreground="#059669" FontWeight="Medium" Margin="0,0,0,4"/>
                                    <TextBlock Name="YearSales" Text="$41481.00" FontSize="32" FontWeight="Bold" Foreground="#065F46" Margin="0,0,0,4"/>
                                    <TextBlock Text="+22% from last year" FontSize="12" Foreground="#059669" FontWeight="Medium"/>
                                </StackPanel>
                            </Border>
                        </UniformGrid>

                        <!-- Custom Period Report -->
                        <Border Grid.Row="2" Style="{StaticResource ModernCardStyle}" Margin="12,0,12,24">
                            <StackPanel>
                                <!-- Custom Period Report Header -->
                                <Border Background="#F2F7FE" CornerRadius="0" Padding="16" Margin="-24,-24,-24,20">
                                    <StackPanel>
                                        <Grid Margin="0,0,0,8">
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                                <TextBlock Text="Custom Period Report" FontSize="20" FontWeight="Bold" Foreground="#1E293B"/>
                                            </StackPanel>
                                        </Grid>
                                        <TextBlock Text="Generate detailed sales report for a specific date range" FontSize="14" Foreground="#64748B"/>
                                    </StackPanel>
                                </Border>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="200"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <TextBlock Grid.Column="0" Text="Start Date" FontSize="14" Foreground="#475569" VerticalAlignment="Center" Margin="0,0,12,0"/>
                                    <DatePicker Grid.Column="1" Name="StartDatePicker" Height="44" BorderBrush="#D1D5DB" BorderThickness="1" Margin="0,0,16,0"/>
                                    <TextBlock Grid.Column="2" Text="End Date" FontSize="14" Foreground="#475569" VerticalAlignment="Center" Margin="0,0,12,0"/>
                                    <DatePicker Grid.Column="3" Name="EndDatePicker" Height="44" BorderBrush="#D1D5DB" BorderThickness="1" Margin="0,0,16,0"/>
                                    <Button Grid.Column="5" Style="{StaticResource ModernButtonStyle}" Click="GenerateReport_Click" Height="44">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="Generate Report" FontSize="14"/>
                                        </StackPanel>
                                    </Button>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Print Status & Supplies -->
                        <Border Grid.Row="3" Style="{StaticResource ModernCardStyle}">
                            <StackPanel>
                                <!-- Print Status & Supplies Header -->
                                <Border Background="#F2F7FE" CornerRadius="0" Padding="16" Margin="-24,-24,-24,24">
                                    <StackPanel>
                                        <Grid Margin="0,0,0,10">
                                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                                                <TextBlock Text="🖨️" FontSize="20" Margin="0,0,12,0"/>
                                                <TextBlock Text="Print Status &amp; Supplies" FontSize="18" FontWeight="Bold" Foreground="#1E293B"/>
                                            </StackPanel>
                                        </Grid>
                                        <TextBlock Text="Current paper/ink status and RFID monitoring" FontSize="14" Foreground="#64748B"/>
                                    </StackPanel>
                                </Border>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Grid.Column="0" Margin="0,0,32,0">
                                        <TextBlock Name="PrintsRemainingLarge" Text="650" FontSize="48" FontWeight="Bold" Foreground="#475569" Margin="0,0,0,8"/>
                                        <TextBlock Text="Prints remaining (700 per roll)" FontSize="14" Foreground="#64748B"/>
                                    </StackPanel>

                                    <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="0,0,32,0">
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                            <TextBlock Text="93%" FontSize="18" FontWeight="SemiBold" Foreground="#475569"/>
                                            <TextBlock Text="Roll capacity" FontSize="14" Foreground="#64748B" Margin="8,0,0,0" VerticalAlignment="Center"/>
                                        </StackPanel>
                                        <Border Background="#E2E8F0" Height="16" CornerRadius="8">
                                            <Border Name="PrintsProgressBar" Background="#10B981" CornerRadius="8" 
                                                    HorizontalAlignment="Left" Width="280"/>
                                        </Border>
                                    </StackPanel>

                                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                                            <Ellipse Width="12" Height="12" Fill="#10B981" Margin="0,0,8,0"/>
                                            <TextBlock Text="RFID Roll Detection: Active" FontSize="12" Foreground="#64748B"/>
                                        </StackPanel>
                                        <Button Style="{StaticResource ModernButtonStyle}" Background="#F59E0B" Click="SimulateNewRoll_Click">
                                            <StackPanel Orientation="Horizontal">
                                                <TextBlock Text="🔄" FontSize="14" Margin="0,0,8,0"/>
                                                <TextBlock Text="Simulate New Roll" FontSize="14"/>
                                            </StackPanel>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                        </Border>
                    </Grid>

                    <!-- Settings Tab Content -->
                    <Grid Name="SettingsTabContent" Visibility="Collapsed">
                        <!-- Main Container -->
                        <Grid>
                            <!-- Header Section -->
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Header -->
                            <Grid Grid.Row="0" Margin="0,0,0,32">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0">
                                    <TextBlock Text="Settings" FontSize="32" FontWeight="Bold" Foreground="#0F172A" Margin="0,0,0,8"/>
                                <TextBlock Text="Configure your photobooth system and preferences" FontSize="16" Foreground="#64748B"/>
                            </StackPanel>
                                
                                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                                    <!-- Online Status Badge -->
                                    <Border Background="#ECFDF5" BorderBrush="#BBF7D0" BorderThickness="1" CornerRadius="5" Padding="12,6" Margin="0,0,12,0">
                                        <StackPanel Orientation="Horizontal">
                                            <Ellipse Width="8" Height="8" Fill="#10B981" Margin="0,0,8,0">
                                                <Ellipse.Effect>
                                                    <DropShadowEffect Color="#10B981" BlurRadius="1" ShadowDepth="0" Opacity="0.5"/>
                                                </Ellipse.Effect>
                                            </Ellipse>
                                            <TextBlock Text="Online" FontSize="14" FontWeight="Medium" Foreground="#047857"/>
                                        </StackPanel>
                                    </Border>
                                    
                                    <!-- Save Button -->
                                    <Button Name="SaveSettingsButton" Style="{StaticResource ModernButtonStyle}" Background="#10B981" Foreground="White" Padding="16,8" Margin="0,0,12,0" Click="SaveSettings_Click">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="💾" FontSize="14" Margin="8,0,8,0"/>
                                            <TextBlock Text="Save Settings" FontSize="14" Margin="0,0,10,0"/>
                                        </StackPanel>
                                    </Button>

                                </StackPanel>
                            </Grid>

                            <!-- Main Content Grid -->
                            <Grid Grid.Row="1">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="24"/>
                                    <ColumnDefinition Width="1*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Left Column: Main Settings (2/3 width) -->
                                <StackPanel Grid.Column="0" VerticalAlignment="Top">
                                    
                            <!-- Business Information Card -->
                                    <Border Style="{StaticResource ModernCardStyle}" Margin="0,0,0,24" Background="White" BorderThickness="0" CornerRadius="12">
                                        <Border.Effect>
                                            <DropShadowEffect Color="#000000" BlurRadius="8" ShadowDepth="2" Opacity="0.1"/>
                                        </Border.Effect>
                                        <StackPanel Margin="24">
                                            <!-- Card Header -->
                                            <StackPanel Margin="0,0,0,24">
                                                <StackPanel Orientation="Horizontal" Margin="0,0,0,12">
                                                    <Border Width="32" Height="32" Background="#DBEAFE" CornerRadius="8" Margin="0,0,12,0">
                                                        <TextBlock Text="📤" FontSize="16" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                    </Border>
                                <StackPanel>
                                                        <TextBlock Text="Business Information" FontSize="18" FontWeight="Bold" Foreground="#0F172A"/>
                                                        <TextBlock Text="Your business details and branding" FontSize="14" Foreground="#64748B" Margin="0,3,0,0"/>
                                                    </StackPanel>
                                                </StackPanel>
                                            </StackPanel>

                                            <!-- Logo Upload Section -->
                                            <StackPanel Margin="0,0,0,24">
                                                <TextBlock Text="Business Logo" FontSize="14" FontWeight="Medium" Foreground="#374151" Margin="0,0,0,12"/>
                                                <StackPanel Orientation="Horizontal">
                                                    <Border Width="80" Height="80" Background="#F8FAFC" BorderBrush="#E2E8F0" BorderThickness="2" CornerRadius="8" Margin="0,0,16,0">
                                                        <Border.Style>
                                                            <Style TargetType="Border">
                                                                <Style.Triggers>
                                                                    <Trigger Property="IsMouseOver" Value="True">
                                                                        <Setter Property="BorderBrush" Value="#3B82F6"/>
                                                                        <Setter Property="Background" Value="#EFF6FF"/>
                                                                    </Trigger>
                                                                </Style.Triggers>
                                                            </Style>
                                                        </Border.Style>
                                                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                                                            <Image Name="LogoImage" Visibility="Collapsed" Stretch="Uniform"/>
                                                            <TextBlock Name="LogoPlaceholderText" Text="📤" FontSize="24" Foreground="#9CA3AF" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                        </StackPanel>
                                        </Border>
                                                    <StackPanel VerticalAlignment="Center">
                                                        <Border Width="120" Height="40" Background="#F8FAFC" BorderBrush="#E2E8F0" BorderThickness="1" CornerRadius="8" Margin="0,0,16,0">
                                                            <Border.Style>
                                                                <Style TargetType="Border">
                                                                    <Style.Triggers>
                                                                        <Trigger Property="IsMouseOver" Value="True">
                                                                            <Setter Property="BorderBrush" Value="#3B82F6"/>
                                                                            <Setter Property="Background" Value="#EFF6FF"/>
                                                                        </Trigger>
                                                                    </Style.Triggers>
                                                                </Style>
                                                            </Border.Style>
                                                            <StackPanel VerticalAlignment="Center">

                                                                <Button Content="Upload Logo" Style="{StaticResource ModernButtonStyle}" Background="#F5F5F5" Foreground="Black" Margin="0,6,0,8" Padding="16,8" Click="UploadLogoButton_Click"/>
                                        </StackPanel>
                                                        </Border>
                                                        <TextBlock Text="PNG, JPG up to 5MB" FontSize="12" Margin="0,10,0,0" Foreground="#6B7280"/>
                                    </StackPanel>
                                                </StackPanel>
                                            </StackPanel>

                                            <!-- Business Details -->
                                            <StackPanel>
                                                <TextBlock Text="Business Name" FontSize="14" FontWeight="Medium" Foreground="#374151" Margin="0,0,0,8"/>
                                                <TextBox Name="BusinessNameTextBox" Text="Downtown Event Center" Style="{StaticResource RoundedTextBoxStyle}" Padding="10" Height="44" Margin="0,0,0,16" BorderBrush="#D1D5DB" Background="White"
                                 behaviors:VirtualKeyboardBehavior.EnableVirtualKeyboard="True" />
                                                
                                                <TextBlock Text="Location" FontSize="14" FontWeight="Medium" Foreground="#374151" Margin="0,0,0,8"/>
                                                <TextBox Name="LocationTextBox" Text="Main Street, Downtown" Style="{StaticResource RoundedTextBoxStyle}" Padding="10" Height="44" Margin="0,0,0,24" BorderBrush="#D1D5DB" Background="White"
                                 behaviors:VirtualKeyboardBehavior.EnableVirtualKeyboard="True" />
                                                
                                                <!-- Show Logo Option -->
                                                <Border Background="#F8FAFC" Padding="16" CornerRadius="8" BorderBrush="#E5E7EB" BorderThickness="1">
                                            <Grid>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*" />
                                                            <!-- Takes all remaining space -->
                                                            <ColumnDefinition Width="Auto" />
                                                            <!-- Takes space as needed -->
                                                        </Grid.ColumnDefinitions>

                                                        <!-- Text Content -->
                                                        <StackPanel Grid.Column="0" Margin="0,0,16,0">
                                                            <TextBlock Text="Show logo on prints" FontSize="14" FontWeight="Medium" Foreground="#374151"/>
                                                            <TextBlock Text="Display your logo on all printed photos" FontSize="12" Foreground="#6B7280"/>
                                                        </StackPanel>

                                                        <!-- Toggle Switch -->
                                                        <ToggleButton Grid.Column="1" Name="ShowLogoToggle" Style="{StaticResource ModernToggleSwitchStyle}" Width="48" Height="24" IsChecked="True" VerticalAlignment="Center"/>
                                            </Grid>
                                        </Border>

                                    </StackPanel>
                                </StackPanel>
                            </Border>


                                    <!-- System Preferences Card -->
                                    <Border Style="{StaticResource ModernCardStyle}" Background="White" BorderThickness="0" CornerRadius="12">
                                        <Border.Effect>
                                            <DropShadowEffect Color="#000000" BlurRadius="8" ShadowDepth="2" Opacity="0.1"/>
                                        </Border.Effect>
                                        <StackPanel Margin="24">
                                            <TextBlock Text="System Preferences" FontSize="18" FontWeight="Bold" Foreground="#0F172A" Margin="0,0,0,4"/>
                                            <TextBlock Text="Audio, display, and operational settings" FontSize="14" Foreground="#64748B" Margin="0,0,0,16"/>
                                            
                                            <!-- Audio Volume -->
                                            <StackPanel Margin="0,0,0,24">
                                                <TextBlock Text="Audio Volume" FontSize="14" FontWeight="Medium" Foreground="#374151" Margin="0,0,0,12"/>
                                                <Grid>
                                                    <Grid.ColumnDefinitions>
                                                        <ColumnDefinition Width="32"/>
                                                        <ColumnDefinition Width="*"/>
                                                        <ColumnDefinition Width="48"/>
                                                        <ColumnDefinition Width="48"/>
                                                    </Grid.ColumnDefinitions>
                                                    <TextBlock Grid.Column="0" Text="0%" FontSize="12" Foreground="#6B7280" VerticalAlignment="Center"/>
                                                    <Slider Name="VolumeSlider" Grid.Column="1" Minimum="0" Maximum="100" Value="75" Margin="8,0" ValueChanged="VolumeSlider_ValueChanged"/>
                                                    <TextBlock Grid.Column="2" Text="100%" FontSize="12" Foreground="#6B7280" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                                                    <TextBlock Name="VolumeValueText" Grid.Column="3" Text="75%" FontSize="14" FontWeight="Medium" Foreground="#3B82F6" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                                </Grid>
                                            </StackPanel>

                                            <!-- System Toggles -->
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="12"/>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="12"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <!-- Camera Flash -->
                                                <Border Grid.Row="0" Grid.Column="0" Background="#F8FAFC" CornerRadius="8" Padding="12">
                                                    <StackPanel Orientation="Horizontal">
                                                        <StackPanel Margin="0,0,12,0">
                                                            <TextBlock Text="Camera Flash" FontSize="14" FontWeight="Medium" Foreground="#374151"/>
                                                            <TextBlock Text="LED flash for photos" FontSize="12" Foreground="#6B7280"/>
                                                        </StackPanel>
                                                        <ToggleButton Name="CameraFlashToggle" Style="{StaticResource ModernToggleSwitchStyle}" Width="48" Height="24" IsChecked="True" HorizontalAlignment="Right"/>
                                                    </StackPanel>
                                                </Border>

                                                <!-- Maintenance Mode -->
                                                <Border Grid.Row="0" Grid.Column="2" Background="#F8FAFC" CornerRadius="8" Padding="12">
                                                    <StackPanel Orientation="Horizontal">
                                                        <StackPanel Margin="0,0,12,0">
                                                            <TextBlock Text="Maintenance Mode" FontSize="14" FontWeight="Medium" Foreground="#374151"/>
                                                            <TextBlock Text="Disable customer access" FontSize="12" Foreground="#6B7280"/>
                                                        </StackPanel>
                                                        <ToggleButton Name="MaintenanceModeToggle" Style="{StaticResource ModernToggleSwitchStyle}" Width="48" Height="24" HorizontalAlignment="Right"/>
                                                    </StackPanel>
                                                </Border>

                                                <!-- RFID Detection -->
                                                <Border Grid.Row="2" Grid.Column="0" Background="#F8FAFC" CornerRadius="8" Padding="12">
                                                    <StackPanel Orientation="Horizontal">
                                                        <StackPanel Margin="0,0,12,0">
                                                            <TextBlock Text="RFID Detection" FontSize="14" FontWeight="Medium" Foreground="#374151"/>
                                                            <TextBlock Text="Auto-detect new paper rolls" FontSize="12" Foreground="#6B7280"/>
                                                        </StackPanel>
                                                        <ToggleButton Name="RFIDDetectionToggle" Style="{StaticResource ModernToggleSwitchStyle}" Width="48" Height="24" IsChecked="True" HorizontalAlignment="Right"/>
                                                    </StackPanel>
                                                </Border>

                                                <!-- Seasonal Templates -->
                                                <Border Grid.Row="2" Grid.Column="2" Background="#F8FAFC" CornerRadius="8" Padding="12">
                                                    <StackPanel Orientation="Horizontal">
                                                        <StackPanel Margin="0,0,12,0">
                                                            <TextBlock Text="Seasonal Templates" FontSize="14" FontWeight="Medium" Foreground="#374151"/>
                                                            <TextBlock Text="Auto-enable by date" FontSize="12" Foreground="#6B7280"/>
                                                        </StackPanel>
                                                        <ToggleButton Name="SeasonalTemplatesToggle" Style="{StaticResource ModernToggleSwitchStyle}" Width="48" Height="24" IsChecked="True" HorizontalAlignment="Right"/>
                                                    </StackPanel>
                                                </Border>
                                            </Grid>
                                        </StackPanel>
                                    </Border>

                                </StackPanel>

                                <!-- Right Column: Sidebar (1/3 width) -->
                                <StackPanel Grid.Column="2" VerticalAlignment="Top">
                                    


                            <!-- Quick Actions Card -->
                                    <Border Style="{StaticResource ModernCardStyle}" Margin="0,0,0,24" Background="White" BorderThickness="0" CornerRadius="12">
                                        <Border.Effect>
                                            <DropShadowEffect Color="#000000" BlurRadius="8" ShadowDepth="2" Opacity="0.1"/>
                                        </Border.Effect>
                                        <StackPanel Margin="24">
                                            <TextBlock Text="Quick Actions" FontSize="18" FontWeight="Bold" Foreground="#0F172A" Margin="0,0,0,4"/>
                                    <TextBlock Text="System tools and tests" FontSize="14" Foreground="#64748B" Margin="0,0,0,16"/>
                                            
                                            <StackPanel>
                                                <Button Margin="0,0,0,8" Height="44" Background="White" BorderBrush="#E5E7EB" BorderThickness="1" Cursor="Hand">
                                                    <Button.Template>
                                                        <ControlTemplate TargetType="Button">
                                                            <Border Background="{TemplateBinding Background}" 
                                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                                    CornerRadius="8" 
                                                                    Padding="12,0">
                                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                                    <TextBlock Text="📷" FontSize="16" Margin="0,0,12,0" VerticalAlignment="Center"/>
                                                                    <TextBlock Text="Test Camera" FontSize="14" Foreground="#374151" VerticalAlignment="Center"/>
                                </StackPanel>
                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Background" Value="#F8FAFC"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Button.Template>
                                                </Button>
                                                
                                                <Button Margin="0,0,0,8" Height="44" Background="White" BorderBrush="#E5E7EB" BorderThickness="1" Cursor="Hand">
                                                    <Button.Template>
                                                        <ControlTemplate TargetType="Button">
                                                            <Border Background="{TemplateBinding Background}" 
                                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                                    CornerRadius="8" 
                                                                    Padding="12,0">
                                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                                    <TextBlock Text="🖨️" FontSize="16" Margin="0,0,12,0" VerticalAlignment="Center"/>
                                                                    <TextBlock Text="Test Printer" FontSize="14" Foreground="#374151" VerticalAlignment="Center"/>
                                                                </StackPanel>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Background" Value="#F8FAFC"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Button.Template>
                                                </Button>
                                                
                                                <Button Margin="0,0,0,8" Height="44" Background="White" BorderBrush="#E5E7EB" BorderThickness="1" Cursor="Hand">
                                                    <Button.Template>
                                                        <ControlTemplate TargetType="Button">
                                                            <Border Background="{TemplateBinding Background}" 
                                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                                    CornerRadius="8" 
                                                                    Padding="12,0">
                                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                                    <TextBlock Text="💰" FontSize="16" Margin="0,0,12,0" VerticalAlignment="Center"/>
                                                                    <TextBlock Text="Add Free Credit" FontSize="14" Foreground="#374151" VerticalAlignment="Center"/>
                                                                </StackPanel>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Background" Value="#F8FAFC"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Button.Template>
                                                </Button>
                                                
                                                <Button Height="44" Background="White" BorderBrush="#E5E7EB" BorderThickness="1" Cursor="Hand">
                                                    <Button.Template>
                                                        <ControlTemplate TargetType="Button">
                                                            <Border Background="{TemplateBinding Background}" 
                                                                    BorderBrush="{TemplateBinding BorderBrush}"
                                                                    BorderThickness="{TemplateBinding BorderThickness}"
                                                                    CornerRadius="8" 
                                                                    Padding="12,0">
                                                                <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                                                                    <TextBlock Text="🖥️" FontSize="16" Margin="0,0,12,0" VerticalAlignment="Center"/>
                                                                    <TextBlock Text="Calibrate Touch" FontSize="14" Foreground="#374151" VerticalAlignment="Center"/>
                                                                </StackPanel>
                                                            </Border>
                                                            <ControlTemplate.Triggers>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="Background" Value="#F8FAFC"/>
                                                                </Trigger>
                                                            </ControlTemplate.Triggers>
                                                        </ControlTemplate>
                                                    </Button.Template>
                                                </Button>
                                            </StackPanel>
                                        </StackPanel>
                                    </Border>

                            <!-- Security Card -->
                                    <Border Style="{StaticResource ModernCardStyle}" Background="White" BorderThickness="0" CornerRadius="12">
                                        <Border.Effect>
                                            <DropShadowEffect Color="#000000" BlurRadius="8" ShadowDepth="2" Opacity="0.1"/>
                                        </Border.Effect>
                                        <StackPanel Margin="24">
                                            <TextBlock Text="Security &amp; Users" FontSize="18" FontWeight="Bold" Foreground="#0F172A" Margin="0,0,0,4"/>
                                    <TextBlock Text="Password and user management" FontSize="14" Foreground="#64748B" Margin="0,0,0,16"/>
                                            
                                            <!-- Password Change Section -->
                                            <StackPanel Name="PasswordChangeSection" Margin="0,0,0,24">
                                                <Grid Margin="0,0,0,16">
                                                    <TextBlock Text="Change My Password" FontSize="16" FontWeight="Medium" Foreground="#374151" HorizontalAlignment="Left"/>
                                                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                                                        <Button Name="TogglePasswordFormButton" Content="Change" Background="Transparent" BorderThickness="0" FontSize="12" Foreground="#3B82F6" HorizontalAlignment="Right" Padding="0" Cursor="Hand" Click="TogglePasswordForm_Click"/>
                                    </StackPanel>
                                                </Grid>
                                                
                                                <!-- Password Change Form (Initially Hidden) -->
                                                <Border Name="PasswordChangeFormBorder" Visibility="Collapsed" Background="#F8FAFC" CornerRadius="8" Margin="0,8,0,0" Padding="16">
                                                    <Grid Name="PasswordChangeForm">
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        
                                                        <!-- Current Password -->
                                                        <StackPanel Grid.Row="0" Margin="0,0,0,12">
                                                            <TextBlock Text="Current Password" FontSize="12" FontWeight="Medium" Foreground="#374151" Margin="0,0,0,4"/>
                                                            <PasswordBox Name="CurrentPasswordBox" Height="36" FontSize="12" Padding="8,0" BorderBrush="#CBD5E1" BorderThickness="1" Background="White"
                                             behaviors:VirtualKeyboardBehavior.EnableVirtualKeyboard="True"/>
                                    </StackPanel>
                                                        
                                                        <!-- New Password -->
                                                        <StackPanel Grid.Row="1" Margin="0,0,0,12">
                                                            <TextBlock Text="New Password" FontSize="12" FontWeight="Medium" Foreground="#374151" Margin="0,0,0,4"/>
                                                            <PasswordBox Name="NewPasswordBox" Height="36" FontSize="12" Padding="8,0" BorderBrush="#CBD5E1" BorderThickness="1" Background="White"
                                             behaviors:VirtualKeyboardBehavior.EnableVirtualKeyboard="True"/>
                                                        </StackPanel>
                                                        
                                                        <!-- Confirm Password -->
                                                        <StackPanel Grid.Row="2" Margin="0,0,0,12">
                                                            <TextBlock Text="Confirm New Password" FontSize="12" FontWeight="Medium" Foreground="#374151" Margin="0,0,0,4"/>
                                                            <PasswordBox Name="ConfirmPasswordBox" Height="36" FontSize="12" Padding="8,0" BorderBrush="#CBD5E1" BorderThickness="1" Background="White"
                                             behaviors:VirtualKeyboardBehavior.EnableVirtualKeyboard="True"/>
                                                        </StackPanel>
                                                        
                                                        <!-- Error Message -->
                                                        <TextBlock Name="PasswordErrorMessage" Grid.Row="3" Text="" FontSize="11" Foreground="#DC2626" Margin="0,0,0,12" Visibility="Collapsed"/>
                                                        
                                                        <!-- Action Buttons -->
                                                        <StackPanel Grid.Row="4" Orientation="Horizontal" HorizontalAlignment="Right">
                                                            <Button Name="CancelPasswordChangeButton" Content="Cancel" Height="32" Padding="12,0" Margin="0,0,8,0" Background="White" BorderBrush="#E2E8F0" BorderThickness="1" Foreground="#64748B" FontSize="12" Click="CancelPasswordChange_Click"/>
                                                            <Button Name="SavePasswordButton" Content="Update Password" Height="32" Padding="12,0" Background="#3B82F6" BorderThickness="0" Foreground="White" FontSize="12" FontWeight="Medium" Click="SavePassword_Click"/>
                                                        </StackPanel>
                                                    </Grid>
                                                </Border>
                                            </StackPanel>

                                            <!-- User Management Section (Admin Only) -->
                                            <StackPanel Name="UserManagementSection" Visibility="Visible">
                                                <Border BorderBrush="#E5E7EB" BorderThickness="0,1,0,0" Padding="0,16,0,0">
                                    <StackPanel>
                                                        <Grid Margin="0,0,0,16">
                                                            <TextBlock Text="User Management" FontSize="16" FontWeight="Medium" Foreground="#374151" HorizontalAlignment="Left"/>
                                                            <Button Name="AddNewUserButton" Content="+ Add User" Background="#10B981" BorderThickness="0" FontSize="12" Foreground="White" HorizontalAlignment="Right" Padding="8,4" Cursor="Hand" Click="AddNewUser_Click">
                                                                <Button.Template>
                                                                    <ControlTemplate TargetType="Button">
                                                                        <Border Background="{TemplateBinding Background}" 
                                                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                                                CornerRadius="4" 
                                                                                Padding="{TemplateBinding Padding}">
                                                                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                        </Border>
                                                                        <ControlTemplate.Triggers>
                                                                            <Trigger Property="IsMouseOver" Value="True">
                                                                                <Setter Property="Background" Value="#059669"/>
                                                                            </Trigger>
                                                                        </ControlTemplate.Triggers>
                                                                    </ControlTemplate>
                                                                </Button.Template>
                                                            </Button>
                                                        </Grid>
                                                        
                                                        <!-- Add User Form (Initially Hidden) -->
                                                        <Border Name="AddUserFormBorder" Visibility="Collapsed" Background="#F0FDF4" CornerRadius="8" Margin="0,8,0,16" Padding="16">
                                                            <Grid Name="AddUserForm">
                                                                <Grid.RowDefinitions>
                                                                    <RowDefinition Height="Auto"/>
                                                                    <RowDefinition Height="Auto"/>
                                                                    <RowDefinition Height="Auto"/>
                                                                    <RowDefinition Height="Auto"/>
                                                                    <RowDefinition Height="Auto"/>
                                                                    <RowDefinition Height="Auto"/>
                                                                    <RowDefinition Height="Auto"/>
                                                                </Grid.RowDefinitions>
                                                                
                                                                <TextBlock Grid.Row="0" Text="Add New User" FontSize="14" FontWeight="Medium" Foreground="#047857" Margin="0,0,0,12"/>
                                                                
                                                                <!-- Username -->
                                                                <StackPanel Grid.Row="1" Margin="0,0,0,12">
                                                                    <TextBlock Text="Username" FontSize="12" FontWeight="Medium" Foreground="#374151" Margin="0,0,0,4"/>
                                                                    <TextBox Name="NewUsernameBox" Height="36" FontSize="12" Padding="8,8" BorderBrush="#CBD5E1" BorderThickness="1" Background="White"
                                         behaviors:VirtualKeyboardBehavior.EnableVirtualKeyboard="True"/>
                                    </StackPanel>
                                                                
                                                                <!-- Display Name -->
                                                                <StackPanel Grid.Row="2" Margin="0,0,0,12">
                                                                    <TextBlock Text="Full Name" FontSize="12" FontWeight="Medium" Foreground="#374151" Margin="0,0,0,4"/>
                                                                    <TextBox Name="NewDisplayNameBox" Height="36" FontSize="12" Padding="8,8" BorderBrush="#CBD5E1" BorderThickness="1" Background="White"
                                         behaviors:VirtualKeyboardBehavior.EnableVirtualKeyboard="True"/>
                                </StackPanel>
                                                                
                                                                <!-- Password -->
                                                                <StackPanel Grid.Row="3" Margin="0,0,0,12">
                                                                    <TextBlock Text="Password" FontSize="12" FontWeight="Medium" Foreground="#374151" Margin="0,0,0,4"/>
                                                                    <PasswordBox Name="NewUserPasswordBox" Height="36" FontSize="12" Padding="8,8" BorderBrush="#CBD5E1" BorderThickness="1" Background="White"
                                             behaviors:VirtualKeyboardBehavior.EnableVirtualKeyboard="True"/>
                                                                </StackPanel>
                                                                
                                                                <!-- Access Level -->
                                                                <StackPanel Grid.Row="4" Margin="0,0,0,12">
                                                                    <TextBlock Text="Access Level" FontSize="12" FontWeight="Medium" Foreground="#374151" Margin="0,0,0,8"/>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <RadioButton Name="NewUserAccessAdminRadio" Content="Admin" GroupName="NewUserAccess" FontSize="12" Foreground="#374151" Margin="0,0,16,0"/>
                                                                        <RadioButton Name="NewUserAccessUserRadio" Content="User" GroupName="NewUserAccess" FontSize="12" Foreground="#374151" IsChecked="True"/>
                                                                    </StackPanel>
                                                                </StackPanel>
                                                                
                                                                <!-- Error Message -->
                                                                <TextBlock Name="AddUserErrorMessage" Grid.Row="5" Text="" FontSize="11" Foreground="#DC2626" Margin="0,0,0,12" Visibility="Collapsed"/>
                                                                
                                                                <!-- Action Buttons -->
                                                                <StackPanel Grid.Row="6" Orientation="Horizontal" HorizontalAlignment="Right">
                                                                    <Button Name="CancelAddUserButton" Content="Cancel" Height="32" Padding="12,0" Margin="0,0,8,0" Background="White" BorderBrush="#E2E8F0" BorderThickness="1" Foreground="#64748B" FontSize="12" Click="CancelAddUser_Click"/>
                                                                    <Button Name="SaveNewUserButton" Content="Create User" Height="32" Padding="12,0" Background="#10B981" BorderThickness="0" Foreground="White" FontSize="12" FontWeight="Medium" Click="SaveNewUser_Click"/>
                                                                </StackPanel>
                                                            </Grid>
                                                        </Border>
                                                        
                                                        <!-- Existing Users List -->
                                    <StackPanel Margin="0,16,0,0">
                                                            <Grid Margin="0,0,0,12">
                                                                <TextBlock Text="Existing Users" FontSize="14" FontWeight="Medium" Foreground="#374151" HorizontalAlignment="Left"/>
                                                                <Button Name="RefreshUsersButton" Content="🔄 Refresh" Background="Transparent" BorderThickness="0" FontSize="12" Foreground="#3B82F6" HorizontalAlignment="Right" Padding="4,0" Cursor="Hand" Click="RefreshUsers_Click"/>
                                                            </Grid>
                                                            
                                                            <!-- User List Container -->
                                                            <Border Background="#F8FAFC" CornerRadius="8" Padding="12" MinHeight="120">
                                                                <ScrollViewer Name="UserListScrollViewer" VerticalScrollBarVisibility="Auto" MaxHeight="200">
                                                                    <StackPanel Name="UserListContainer">
                                                                        <!-- Users will be populated dynamically -->
                                                                        <TextBlock Name="NoUsersMessage" Text="Loading users..." FontSize="12" Foreground="#6B7280" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                                    </StackPanel>
                                                                </ScrollViewer>
                                                            </Border>
                                                        </StackPanel>
                                                    </StackPanel>
                                                </Border>
                                    </StackPanel>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                            </Grid>
                        </Grid>
                    </Grid>

                    <!-- Products Tab Content -->
                    <Grid Name="ProductsTabContent" Visibility="Collapsed">
                        <ScrollViewer VerticalScrollBarVisibility="Auto">
                            <StackPanel Margin="0,0,0,32">
                                
                                <!-- Header Section -->
                                <StackPanel Orientation="Horizontal" Margin="0,0,0,24">

                                    <StackPanel>
                                        <TextBlock Text="Product Configuration" FontSize="32" FontWeight="Bold" Foreground="#0F172A" Margin="0,0,0,8"/>
                                        <TextBlock Text="Enable/disable products and configure availability" FontSize="16" Foreground="#64748B"/>

                                    </StackPanel>
                                </StackPanel>

                                <!-- Product Configuration Cards -->
                                <ItemsControl Name="ProductsItemsControl" Margin="0,0,0,32">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <UniformGrid Columns="3"/>
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                    
                                    <ItemsControl.ItemTemplate>
                                        <DataTemplate>
                                            <Border Background="#F8FAFC" 
                                                    CornerRadius="12" 
                                                    BorderBrush="#E5E7EB" 
                                                    BorderThickness="1" 
                                                    Padding="20" 
                                                    Margin="8"
                                                    Opacity="{Binding CardOpacity}">
                                                <StackPanel>
                                                    <!-- Header -->
                                                    <StackPanel Orientation="Horizontal" Margin="0,0,0,16">
                                                        <Border Width="36" Height="36" 
                                                                Background="{Binding IconBackground}" 
                                                                CornerRadius="8" 
                                                                Margin="0,0,12,0">
                                                            <TextBlock Text="{Binding Icon}" 
                                                                       FontSize="18" 
                                                                       HorizontalAlignment="Center" 
                                                                       VerticalAlignment="Center"/>
                                                        </Border>
                                                        <StackPanel>
                                                            <TextBlock Text="{Binding Name}" 
                                                                       FontSize="16" 
                                                                       FontWeight="SemiBold" 
                                                                       Foreground="#374151"/>
                                                            <TextBlock Text="{Binding Description}" 
                                                                       FontSize="12" 
                                                                       Foreground="#6B7280"/>
                                                        </StackPanel>
                                                    </StackPanel>

                                                    <!-- Enable/Disable Toggle -->
                                                    <Grid Margin="0,0,0,16">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <TextBlock Grid.Column="0" 
                                                                   Text="Enable Product" 
                                                                   FontSize="14" 
                                                                   FontWeight="Medium" 
                                                                   Foreground="#374151" 
                                                                   VerticalAlignment="Center"/>
                                                        <ToggleButton Grid.Column="1" 
                                                                      Style="{StaticResource ModernToggleSwitchStyle}" 
                                                                      IsChecked="{Binding IsEnabled}"
                                                                      Tag="{Binding ProductKey}"/>
                                                    </Grid>

                                                    <!-- Price Configuration -->
                                                    <StackPanel IsEnabled="{Binding PriceSectionEnabled}">
                                                        <TextBlock Text="{Binding PriceLabel}" 
                                                                   FontSize="12" 
                                                                   FontWeight="Medium" 
                                                                   Foreground="#6B7280" 
                                                                   Margin="0,0,0,4"/>
                                                        <Border Background="White" 
                                                                CornerRadius="6" 
                                                                BorderBrush="#D1D5DB" 
                                                                BorderThickness="1" 
                                                                Padding="12,8">
                                                            <Grid>
                                                                <Grid.ColumnDefinitions>
                                                                    <ColumnDefinition Width="Auto"/>
                                                                    <ColumnDefinition Width="*"/>
                                                                </Grid.ColumnDefinitions>
                                                                <TextBlock Grid.Column="0" 
                                                                           Text="$" 
                                                                           FontSize="14" 
                                                                           Foreground="#6B7280" 
                                                                           VerticalAlignment="Center" 
                                                                           Margin="0,0,4,0"/>
                                                                <TextBox Grid.Column="1" 
                                                                         Text="{Binding PriceText, UpdateSourceTrigger=PropertyChanged}" 
                                                                         FontSize="14" 
                                                                         BorderThickness="0" 
                                                                         Background="Transparent" 
                                                                         VerticalAlignment="Center"
                                                                         Tag="{Binding ProductKey}"/>
                                                            </Grid>
                                                        </Border>
                                                    </StackPanel>
                                                </StackPanel>
                                            </Border>
                                        </DataTemplate>
                                    </ItemsControl.ItemTemplate>
                                </ItemsControl>

                                <!-- Photobooth Mode Section -->
                                <Border Background="White" CornerRadius="12" BorderBrush="#E5E7EB" BorderThickness="1" Padding="24" Margin="0,0,0,24">
                                    <StackPanel>
                                        <!-- Header -->
                                        <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                                            <Border Width="36" Height="36" Background="#F3E8FF" CornerRadius="8" Margin="0,0,12,0">
                                                <TextBlock Text="⚙️" FontSize="18" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                            </Border>
                                            <StackPanel>
                                                <TextBlock Text="Photobooth Mode" FontSize="18" FontWeight="SemiBold" Foreground="#0F172A"/>
                                                <TextBlock Text="Choose how customers pay for photos" FontSize="14" Foreground="#64748B"/>
                                            </StackPanel>
                                        </StackPanel>

                                        <!-- Mode Selection -->
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="32"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <!-- Coin Operated Mode -->
                                            <Border Name="ProductCoinOperatedCard" Grid.Column="0" Background="#F8FAFC" CornerRadius="8" BorderBrush="#3B82F6" BorderThickness="2" Padding="16" Cursor="Hand" MouseLeftButtonDown="ModeCard_Click">
                                                <StackPanel>
                                                    <Grid Margin="0,0,0,12">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Border Grid.Column="0" Width="24" Height="24" Background="#DBEAFE" CornerRadius="12" Margin="0,0,8,0">
                                                            <TextBlock Text="💰" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                        </Border>
                                                        <TextBlock Grid.Column="1" Text="Coin Operated" FontSize="14" FontWeight="SemiBold" Foreground="#374151" VerticalAlignment="Center"/>
                                                        <RadioButton Name="ProductCoinOperatedRadio" Grid.Column="2" IsChecked="True" GroupName="ProductOperationMode" VerticalAlignment="Center"/>
                                                    </Grid>
                                                    <TextBlock Text="Customers must insert money to use the photobooth" FontSize="12" Foreground="#6B7280" TextWrapping="Wrap"/>
                                                </StackPanel>
                                            </Border>

                                            <!-- Free Play Mode -->
                                            <Border Name="ProductFreePlayCard" Grid.Column="2" Background="#F8FAFC" CornerRadius="8" BorderBrush="#E5E7EB" BorderThickness="1" Padding="16" Cursor="Hand" MouseLeftButtonDown="ModeCard_Click">
                                                <StackPanel>
                                                    <Grid Margin="0,0,0,12">
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="Auto"/>
                                                            <ColumnDefinition Width="*"/>
                                                            <ColumnDefinition Width="Auto"/>
                                                        </Grid.ColumnDefinitions>
                                                        <Border Grid.Column="0" Width="24" Height="24" Background="#FEF3C7" CornerRadius="12" Margin="0,0,8,0">
                                                            <TextBlock Text="🎉" FontSize="12" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                                        </Border>
                                                        <TextBlock Grid.Column="1" Text="Free Play Mode" FontSize="14" FontWeight="SemiBold" Foreground="#374151" VerticalAlignment="Center"/>
                                                        <RadioButton Name="ProductFreePlayRadio" Grid.Column="2" GroupName="ProductOperationMode" VerticalAlignment="Center"/>
                                                    </Grid>
                                                    <TextBlock Text="Photos are free for customers (no payment required)" FontSize="12" Foreground="#6B7280" TextWrapping="Wrap"/>
                                                </StackPanel>
                                            </Border>
                                        </Grid>
                                    </StackPanel>
                                </Border>

                                <!-- Save Button -->
                                <Border Background="#3B82F6" CornerRadius="8" HorizontalAlignment="Center" Padding="0" Margin="0">
                                    <Button Name="SaveProductConfigButton" Background="Transparent" Foreground="White" FontSize="14" FontWeight="SemiBold" 
                                            Height="48" BorderThickness="0" Cursor="Hand" Click="SaveProductConfig_Click" Padding="32,0">
                                        <StackPanel Orientation="Horizontal">
                                            <TextBlock Text="💾" FontSize="16" Margin="0,0,8,0"/>
                                            <TextBlock Text="Save Configuration"/>
                                        </StackPanel>
                                    </Button>
                                </Border>

                            </StackPanel>
                        </ScrollViewer>
                    </Grid>

                    <!-- Templates Tab Content -->
                    <Grid Name="TemplatesTabContent" Visibility="Visible">
                        <!-- TemplatesTabControl will be added programmatically -->
                    </Grid>

                    <!-- Diagnostics Tab Content -->
                    <Grid Name="DiagnosticsTabContent" Visibility="Collapsed" Margin="24">
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock Text="🔧" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,16"/>
                            <TextBlock Text="Diagnostics" FontSize="32" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#1E293B" Margin="0,0,0,8"/>
                            <TextBlock Text="System diagnostics coming soon..." FontSize="16" HorizontalAlignment="Center" Foreground="#64748B"/>
                        </StackPanel>
                    </Grid>

                    <!-- System Tab Content -->
                    <Grid Name="SystemTabContent" Visibility="Collapsed" Margin="24">
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock Text="💻" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,16"/>
                            <TextBlock Text="System" FontSize="32" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#1E293B" Margin="0,0,0,8"/>
                            <TextBlock Text="System management coming soon..." FontSize="16" HorizontalAlignment="Center" Foreground="#64748B"/>
                        </StackPanel>
                    </Grid>

                    <!-- Credits Tab Content -->
                    <Grid Name="CreditsTabContent" Visibility="Collapsed" Margin="24">
                        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                            <TextBlock Text="💰" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,16"/>
                            <TextBlock Text="Credits" FontSize="32" FontWeight="Bold" HorizontalAlignment="Center" Foreground="#1E293B" Margin="0,0,0,8"/>
                            <TextBlock Text="Credit management coming soon..." FontSize="16" HorizontalAlignment="Center" Foreground="#64748B"/>
                        </StackPanel>
                    </Grid>
                </Grid>
            </ScrollViewer>
        </Grid>
    </Grid>
</UserControl> 